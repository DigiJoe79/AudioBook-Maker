name: "kani"
display_name: "Kani TTS"
type: tts

# Default enabled state (can be overridden in settings)
enabled: false

# Python version requirement (kani-tts requires Python 3.11+)
python_version: "3.11"

# Path to virtual environment (relative to this file)
venv_path: "./venv"

# Available models
models:
  - name: "400m-de"
    display_name: "Kani 400M German"
    path: "nineninesix/kani-tts-400m-de"  # HuggingFace model ID

# Capabilities
capabilities:
  supports_model_hotswap: false  # Single model
  supports_speaker_cloning: false  # Uses built-in speakers only (bert, thorsten)
  supports_streaming: false

# Constraints
constraints:
  min_text_length: 1
  max_text_length: 500  # Performance degrades beyond ~15 seconds
  sample_rate: 22000  # 22kHz output
  audio_format: "wav"
  supports_streaming: false
  requires_punctuation: false

# Supported languages (German only)
supported_languages:
  - de  # German

# Built-in speakers (NO external cloning support)
builtin_speakers:
  - id: "bert"
    display_name: "Bert"
  - id: "thorsten"
    display_name: "Thorsten"

# Configuration
config:
  # Parameter schema for Settings dialog
  parameter_schema:
    temperature:
      type: "float"
      label: "settings.tts.kani.temperature"
      description: "settings.tts.kani.temperatureDesc"
      default: 0.7
      min: 0.1
      max: 2.0
      step: 0.1
      readonly: false

    top_p:
      type: "float"
      label: "settings.tts.kani.topP"
      description: "settings.tts.kani.topPDesc"
      default: 0.9
      min: 0.1
      max: 1.0
      step: 0.05
      readonly: false

    max_tokens:
      type: "int"
      label: "settings.tts.kani.maxTokens"
      description: "settings.tts.kani.maxTokensDesc"
      default: 2000
      min: 100
      max: 4000
      step: 100
      readonly: false

    repetition_penalty:
      type: "float"
      label: "settings.tts.kani.repetitionPenalty"
      description: "settings.tts.kani.repetitionPenaltyDesc"
      default: 1.2
      min: 1.0
      max: 2.0
      step: 0.1
      readonly: false

    speaker_id:
      type: "select"
      label: "settings.tts.kani.speakerId"
      description: "settings.tts.kani.speakerIdDesc"
      default: "thorsten"
      options:
        - value: "bert"
          label: "Bert"
        - value: "thorsten"
          label: "Thorsten"
      readonly: false
