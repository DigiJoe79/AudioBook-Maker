# Template Audio Analysis Engine
# TODO: Rename and customize for your engine

name: "template_audio"
display_name: "Template Audio Analyzer"
type: audio
# Note: version is read dynamically from pip package via get_package_version()

description: |
  Template audio analysis engine.
  TODO: Add description of your engine's capabilities.

# Python version requirement (used by setup scripts)
python_version: "3.12"  # Adjust as needed for your engine

# Path to virtual environment (relative to this file)
venv_path: "./venv"

# Model configuration
# For model-free analyzers, use a single "default" entry
default_model: "default"
models:
  - name: "default"
    display_name: "Default Configuration"
  # TODO: Add more models if your analyzer supports them
  # - name: "high_accuracy"
  #   display_name: "High Accuracy Mode"

# Capabilities
capabilities:
  speech_detection: true
  silence_detection: true
  clipping_detection: true
  volume_analysis: true
  # TODO: Add your engine's capabilities
  # custom_metric: true

# Default parameters (configurable via Settings UI)
# These are passed as quality_thresholds in analyze requests
parameters:
  speech_ratio_ideal_min:
    type: "integer"
    label: "settings.audio.template.speechRatioIdealMin"
    description: "settings.audio.template.speechRatioIdealMinDesc"
    default: 75
    min: 0
    max: 100
  speech_ratio_ideal_max:
    type: "integer"
    label: "settings.audio.template.speechRatioIdealMax"
    description: "settings.audio.template.speechRatioIdealMaxDesc"
    default: 90
    min: 0
    max: 100
  speech_ratio_warning_min:
    type: "integer"
    label: "settings.audio.template.speechRatioWarningMin"
    description: "settings.audio.template.speechRatioWarningMinDesc"
    default: 65
    min: 0
    max: 100
  speech_ratio_warning_max:
    type: "integer"
    label: "settings.audio.template.speechRatioWarningMax"
    description: "settings.audio.template.speechRatioWarningMaxDesc"
    default: 93
    min: 0
    max: 100
  max_silence_duration_warning:
    type: "integer"
    label: "settings.audio.template.maxSilenceWarning"
    description: "settings.audio.template.maxSilenceWarningDesc"
    default: 2500
    min: 0
    max: 10000
  max_silence_duration_critical:
    type: "integer"
    label: "settings.audio.template.maxSilenceCritical"
    description: "settings.audio.template.maxSilenceCriticalDesc"
    default: 3750
    min: 0
    max: 10000
  max_clipping_peak:
    type: "float"
    label: "settings.audio.template.maxClippingPeak"
    description: "settings.audio.template.maxClippingPeakDesc"
    default: 0.0
    min: -10.0
    max: 3.0
  min_average_volume:
    type: "float"
    label: "settings.audio.template.minAverageVolume"
    description: "settings.audio.template.minAverageVolumeDesc"
    default: -40.0
    min: -60.0
    max: 0.0

# Auto-regenerate settings (for TTS quality feedback loop)
auto_regenerate:
  enabled: false
  max_attempts: 5
